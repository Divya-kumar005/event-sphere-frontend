<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>Organizer Dashboard</h1>
    <p>Manage your events, tasks, and announcements</p>
  </div>

  <div class="dashboard-content" *ngIf="!isLoading">
    <!-- Stats Cards -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">ðŸ“…</div>
        <div class="stat-content">
          <h3>{{ stats.totalEvents }}</h3>
          <p>Total Events</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">ðŸ‘¥</div>
        <div class="stat-content">
          <h3>{{ stats.totalParticipants }}</h3>
          <p>Total Participants</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">âœ…</div>
        <div class="stat-content">
          <h3>{{ stats.pendingTasks }}</h3>
          <p>Pending Tasks</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">ðŸš€</div>
        <div class="stat-content">
          <h3>{{ stats.upcomingEvents }}</h3>
          <p>Upcoming Events</p>
        </div>
      </div>
    </div>

    <!-- Main Content Grid -->
    <div class="dashboard-grid">
      <!-- My Events -->
      <div class="dashboard-section">
        <div class="section-header">
          <h2>My Events</h2>
          <a routerLink="/create-event" class="btn btn-primary">Create Event</a>
        </div>
        <div class="events-list">
          <div class="event-item" *ngFor="let event of myEvents">
            <div class="event-info">
              <h3>{{ event.title }}</h3>
              <p class="event-description">{{ event.description | slice:0:100 }}...</p>
              <div class="event-meta">
                <span class="event-date">ðŸ“… {{ event.date | date:'MMM dd, yyyy' }}</span>
                <span class="event-participants">ðŸ‘¥ {{ event.participants.length }} participants</span>
                <span class="event-status" [class]="getEventStatus(event)">
                  {{ getEventStatus(event) }}
                </span>
              </div>
            </div>
            <div class="event-actions">
              <a [routerLink]="['/events', event._id]" class="btn btn-outline btn-sm">View</a>
            </div>
          </div>
          <div class="no-events" *ngIf="myEvents.length === 0">
            <p>No events created yet. <a routerLink="/create-event">Create your first event</a></p>
          </div>
        </div>
      </div>

      <!-- Recent Tasks -->
      <div class="dashboard-section">
        <div class="section-header">
          <h2>Recent Tasks</h2>
          <a routerLink="/tasks" class="btn btn-outline">View All</a>
        </div>
        <div class="tasks-list">
          <div class="task-item" *ngFor="let task of recentTasks">
            <div class="task-info">
              <h4>{{ task.title }}</h4>
              <p class="task-description">{{ task.description | slice:0:80 }}...</p>
              <div class="task-meta">
                <span class="task-priority" [class]="task.priority">{{ task.priority }}</span>
                <span class="task-status" [class]="getTaskStatus(task)">{{ getTaskStatus(task) }}</span>
              </div>
            </div>
          </div>
          <div class="no-tasks" *ngIf="recentTasks.length === 0">
            <p>No tasks assigned yet.</p>
          </div>
        </div>
      </div>

      <!-- Recent Announcements -->
      <div class="dashboard-section">
        <div class="section-header">
          <h2>Recent Announcements</h2>
          <a routerLink="/announcements" class="btn btn-outline">View All</a>
        </div>
        <div class="announcements-list">
          <div class="announcement-item" *ngFor="let announcement of recentAnnouncements">
            <div class="announcement-info">
              <h4>{{ announcement.title }}</h4>
              <p class="announcement-content">{{ announcement.content | slice:0:100 }}...</p>
              <div class="announcement-meta">
                <span class="announcement-date">{{ announcement.createdAt | date:'MMM dd, yyyy' }}</span>
                <span class="announcement-priority" [class]="announcement.priority">{{ announcement.priority }}</span>
              </div>
            </div>
          </div>
          <div class="no-announcements" *ngIf="recentAnnouncements.length === 0">
            <p>No announcements yet.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="loading" *ngIf="isLoading">
    <div class="loading-spinner"></div>
    <p>Loading dashboard...</p>
  </div>
</div>
